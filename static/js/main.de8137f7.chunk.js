(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,c){},241:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c(26),n=c.n(r),s=(c(129),c(130),c(20)),i=c(11),j=c(14),o={admin:"admin",regular:"regular"},l=c(1),d=Object(a.createContext)();function b(e){var t=e.children,c=Object(j.g)(),r=Object(a.useState)(null),n=Object(i.a)(r,2),b=n[0],O=n[1],u={user:b,isLogged:function(){return!!b},hasRole:function(e){return(null===b||void 0===b?void 0:b.role)===e},login:function(e,t){O({id:1,name:"Prueba",email:"email@email.com",role:o.admin}),t&&c.push(t)},logout:function(){return O(null)},updateUser:function(e){O(Object(s.a)(Object(s.a)({},b),e))}};return Object(l.jsx)(d.Provider,{value:u,children:t})}var O=c(247),u=c(248),x=c(123),h=c(253),m=c(124);function p(){return Object(a.useContext)(d)}function g(){var e=Object(a.useState)(),t=Object(i.a)(e,2),c=t[0],r=t[1];return[c,function(){return r(!0)},function(){return r(!1)}]}var v=c(249),f=c(250),C=c(246),y=c(35),k=c(41),N=c(82),E=k.a().shape({password:k.b("La contrase\xf1a debe ser un texto").required("Debes ingresar una contrase\xf1a").min(6,"La contrase\xf1a debe tener al menos 6 car\xe1cteres")}),w=Object(N.a)(E);function S(e){var t=e.isOpen,c=e.close,r=Object(y.d)({resolver:w}),n=r.register,i=r.handleSubmit,j=r.formState.errors,o=r.reset,d=function(e){alert("Cambiando contrase\xf1a...")};return Object(a.useEffect)((function(){t||o()}),[t,o]),Object(l.jsxs)(v.a,{show:t,onHide:c,children:[Object(l.jsx)(v.a.Header,{closeButton:!0,children:Object(l.jsx)(v.a.Title,{children:"Cambiar Contrase\xf1a"})}),Object(l.jsx)(v.a.Body,{children:Object(l.jsx)(f.a,{onSubmit:i(d),children:Object(l.jsxs)(f.a.Group,{children:[Object(l.jsx)(f.a.Label,{children:"Nueva contrase\xf1a"}),Object(l.jsx)(f.a.Control,Object(s.a)(Object(s.a)({placeholder:"Escribe una nueva contrase\xf1a"},n("password")),{},{type:"password"})),(null===j||void 0===j?void 0:j.password)&&Object(l.jsx)(f.a.Text,{children:Object(l.jsx)(C.a,{variant:"danger",children:j.password.message})})]})})}),Object(l.jsxs)(v.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",children:"Cancelar"}),Object(l.jsx)(m.a,{variant:"primary",onClick:i(d),children:"Actualizar contrase\xf1a"})]})]})}function L(e){var t=e.isOpen,c=e.close,a=p().logout;return Object(l.jsxs)(v.a,{show:t,onHide:c,children:[Object(l.jsx)(v.a.Header,{closeButton:!0,children:Object(l.jsx)(v.a.Title,{children:"Eliminar cuenta"})}),Object(l.jsx)(v.a.Body,{children:Object(l.jsxs)(C.a,{variant:"danger",children:["\xbfEstas seguro que deseas eliminar permanentemente tu cuenta? ",Object(l.jsx)("b",{children:"se perderan todos tus datos"})]})}),Object(l.jsxs)(v.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",children:"Cancelar"}),Object(l.jsx)(m.a,{variant:"danger",onClick:function(){a()},children:"Eliminar mi cuenta"})]})]})}var P=c.p+"static/media/male_avatar.3503d11c.svg",R=c(76),B=k.a().shape({name:k.b("El nombre debe ser un texto").required("Debe ingresar un nombre"),email:k.b("El email debe ser un texto").required("Debe ingresar un correo electr\xf3nico").email("Debe ingresar un correo electr\xf3nico v\xe1lido"),role:k.b("El rol debe ser un texto").oneOf(Object.keys(o),"El rol no es v\xe1lido")}),T=Object(N.a)(B);function F(e){var t=e.isOpen,c=e.close,r=e.user,n=Object(y.d)({resolver:T}),i=n.register,j=n.handleSubmit,d=n.formState,b=d.errors,O=d.dirtyFields,u=n.reset,x=p(),h=x.updateUser,g=x.hasRole,k=!!Object.keys(O).length,N=function(e){if(k){var t;if(e.role)t=e;else{e.role;t=Object(R.a)(e,["role"])}h(t),c()}};return Object(a.useEffect)((function(){t||u()}),[t,u]),Object(a.useEffect)((function(){r&&u({name:r.name,correo:r.email,role:r.role})}),[r,u]),Object(l.jsxs)(v.a,{show:t,onHide:c,children:[Object(l.jsx)(v.a.Header,{closeButton:!0,children:Object(l.jsx)(v.a.Title,{children:"Editar Cuenta"})}),Object(l.jsx)(v.a.Body,{children:Object(l.jsxs)(f.a,{onSubmit:j(N),children:[Object(l.jsxs)(f.a.Group,{children:[Object(l.jsx)(f.a.Label,{children:"Nombre"}),Object(l.jsx)(f.a.Control,Object(s.a)({placeholder:"Escribe un nombre"},i("name"))),(null===b||void 0===b?void 0:b.name)&&Object(l.jsx)(f.a.Text,{children:Object(l.jsx)(C.a,{variant:"danger",children:b.name.message})})]}),Object(l.jsxs)(f.a.Group,{children:[Object(l.jsx)(f.a.Label,{children:"Email"}),Object(l.jsx)(f.a.Control,Object(s.a)(Object(s.a)({placeholder:"Escribe un correo electr\xf3nico"},i("email")),{},{type:"email"})),(null===b||void 0===b?void 0:b.email)&&Object(l.jsx)(f.a.Text,{children:Object(l.jsx)(C.a,{variant:"danger",children:b.email.message})})]}),Object(l.jsxs)(f.a.Group,{children:[Object(l.jsx)(f.a.Label,{children:"Rol"}),Object(l.jsxs)(f.a.Control,Object(s.a)(Object(s.a)({as:"select",disabled:!g("admin")},i("role")),{},{children:[Object.keys(o).map((function(e){return Object(l.jsx)("option",{children:e},e)})),Object(l.jsx)("option",{children:"ninguno"})]})),(null===b||void 0===b?void 0:b.role)&&Object(l.jsx)(f.a.Text,{children:Object(l.jsx)(C.a,{variant:"danger",children:b.role.message})})]})]})}),Object(l.jsxs)(v.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",children:"Cancelar"}),Object(l.jsx)(m.a,{variant:"primary",onClick:j(N),disabled:!k,children:"Actualizar Cuenta"})]})]})}var I=c(54);function H(e){var t=e.isOpen,c=e.close,r=p().updateUser,n=Object(a.useState)("Subir una Imagen"),s=Object(i.a)(n,2),j=s[0],o=s[1],d=Object(a.useState)(null),b=Object(i.a)(d,2),O=b[0],u=b[1];return Object(l.jsxs)(v.a,{show:t,onHide:c,children:[Object(l.jsx)(v.a.Header,{closeButton:!0,children:Object(l.jsx)(v.a.Title,{children:"Cambiar foto de perfil"})}),Object(l.jsxs)(v.a.Body,{children:[Object(l.jsx)(f.a,{children:Object(l.jsx)(f.a.File,{custom:!0,label:j,"data-browse":"Subir",onChange:function(e){var t=Object(i.a)(e.target.files,1)[0],c=t.size<13107200,a=/.(jpe?g|gif|png)$/i.test(t.name);if(!c)return I.b.error("Imagen muy pesada, m\xe1ximo 25mb");if(!a)return I.b.error("Solo se puede subir im\xe1genes");o(t.name);var r=new FileReader;r.onloadend=function(){u(r.result)},r.readAsDataURL(t)},accept:".jpg, .jpeg, .gif, .png"})}),Object(l.jsx)("img",{className:"img-fluid mt-2",src:O,alt:"profile-preview"})]}),Object(l.jsxs)(v.a.Footer,{children:[Object(l.jsx)(m.a,{variant:"secondary",children:"Cancelar"}),Object(l.jsx)(m.a,{variant:"primary",onClick:function(){if(!O)return I.b.error("Debes seleccionar una nueva im\xe1gen");r({profilePic:O}),c()},children:"Actualizar imagen"})]})]})}var G=function(){var e=p().user,t=g(),c=Object(i.a)(t,3),a=c[0],r=c[1],n=c[2],s=g(),j=Object(i.a)(s,3),o=j[0],d=j[1],b=j[2],v=g(),f=Object(i.a)(v,3),C=f[0],y=f[1],k=f[2],N=g(),E=Object(i.a)(N,3),w=E[0],R=E[1],B=E[2];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(O.a,{children:Object(l.jsxs)(u.a,{className:"mt-4",children:[Object(l.jsx)(x.a,{xs:12,className:"text-center",children:Object(l.jsx)("img",{src:(null===e||void 0===e?void 0:e.profilePic)||P,alt:"profile",onClick:R,style:{width:"200px",height:"200px",borderRadius:"50%",objectFit:"cover",cursor:"pointer"}})}),Object(l.jsx)(x.a,{className:"mt-4",children:Object(l.jsxs)(h.a,{style:{maxWidth:"360px"},className:"mx-auto p-4",children:[Object(l.jsxs)("p",{className:"text-center",children:[Object(l.jsx)("b",{children:"Nombre: "}),e.name]}),Object(l.jsxs)("p",{className:"text-center",children:[Object(l.jsx)("b",{children:"Correo: "}),e.email]}),Object(l.jsxs)("p",{className:"text-center",children:[Object(l.jsx)("b",{children:"Rol: "}),e.role]}),Object(l.jsx)(m.a,{variant:"warning mt-2",onClick:y,children:"Editar Cuenta"}),Object(l.jsx)(m.a,{variant:"primary",className:"mt-2",onClick:d,children:"Cambiar Contrase\xf1a"}),Object(l.jsx)(m.a,{variant:"danger",className:"mt-2",onClick:r,children:"Eliminar Cuenta"})]})})]})}),Object(l.jsx)(L,{isOpen:a,close:n}),Object(l.jsx)(S,{isOpen:o,close:b}),Object(l.jsx)(F,{user:e,isOpen:C,close:k}),Object(l.jsx)(H,{user:e,isOpen:w,close:B})]})},A=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"UsersPage"})})},D={home:"/",login:"/login",register:"/register",account:"/account",projects:"/projects",project:function(e){return e?"/projects/:".concat(e):"/projects/:projectId"},admin:{users:"/admin/users"}},U=c(16),z=c.p+"static/media/task-manager.a1cf36da.svg",q=function(){return Object(l.jsx)(O.a,{children:Object(l.jsxs)(u.a,{className:"mt-5",children:[Object(l.jsxs)(x.a,{xs:{span:12},lg:{span:6},className:"mb-5",children:[Object(l.jsx)("h2",{children:"Bienvenid@ a Gestor de tareas"}),Object(l.jsx)("p",{children:"Aca podes gestionar tus proyectos!"}),Object(l.jsx)("p",{children:"Marca tus tareas como terminadas, agrega, elimina o actualiza."}),Object(l.jsxs)("div",{children:[Object(l.jsx)(U.b,{to:D.login,children:"Ingresa"})," o",Object(l.jsx)(m.a,{as:U.b,to:D.register,className:"ml-2",children:"Crea una cuenta"})]})]}),Object(l.jsxs)(x.a,{children:[Object(l.jsx)("img",{className:"img-fluid",src:z,alt:"gestor-de-tareas"}),Object(l.jsx)("p",{children:"Gestiona tu tiempo, mejora tu productividad"})]})]})})},J={},M=function(){var e=Object(j.h)(),t=p().login;return Object(l.jsxs)("div",{children:[Object(l.jsx)("h1",{children:"Login Page"}),Object(l.jsx)("button",{onClick:function(){var c;return t(J,null===(c=e.state)||void 0===c?void 0:c.from)},children:"Iniciar Sesi\xf3n"})]})},V=c.p+"static/media/404-not-found.6d653eb3.svg",W=function(){return Object(l.jsx)(O.a,{children:Object(l.jsx)(u.a,{className:"mt-5",children:Object(l.jsxs)(x.a,{md:{span:6,offset:3},className:"text-center",children:[Object(l.jsx)("img",{style:{width:"100%"},src:V,alt:"error 404"}),Object(l.jsx)("h2",{className:"mt-3",children:"\xbfTe perdiste?"}),Object(l.jsxs)("p",{children:["Volve al ",Object(l.jsx)(U.b,{to:D.home,children:"Inicio"})]})]})})})},$=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"ProjectPage"})})},_=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"ProjectsPage"})})},K=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h1",{children:"RegisterPage"})})},Q=function(e){var t=e.hasRole,c=Object(R.a)(e,["hasRole"]),a=Object(j.h)(),r=p(),n=r.hasRole,i=r.isLogged;return t&&!n(t)?Object(l.jsx)(j.a,{to:D.home}):i()?Object(l.jsx)(j.b,Object(s.a)({},c)):Object(l.jsx)(j.a,{to:{pathname:D.login,state:{from:a}}})},X=function(e){return(0,p().isLogged)()?Object(l.jsx)(j.a,{to:D.projects}):Object(l.jsx)(j.b,Object(s.a)({},e))};function Y(){return Object(l.jsxs)(j.d,{children:[Object(l.jsx)(X,{exact:!0,path:D.home,component:q}),Object(l.jsx)(X,{exact:!0,path:D.login,component:M}),Object(l.jsx)(X,{exact:!0,path:D.register,component:K}),Object(l.jsx)(Q,{exact:!0,path:D.account,component:G}),Object(l.jsx)(Q,{exact:!0,path:D.projects,component:_}),Object(l.jsx)(Q,{exact:!0,path:D.project(),component:$}),Object(l.jsx)(Q,{hasRole:o.admin,exact:!0,path:D.admin.users,component:A}),Object(l.jsx)(j.b,{exact:!0,path:"*",component:W})]})}var Z=c(251),ee=c(252),te=c(95),ce=function(){var e=p().logout;return Object(l.jsxs)(Z.a,{collapseOnSelect:!0,expand:"lg",variant:"dark",bg:"dark",children:[Object(l.jsx)(Z.a.Brand,{as:U.c,to:D.home,children:"Gestor de Tareas"}),Object(l.jsx)(Z.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(l.jsxs)(Z.a.Collapse,{id:"responsive-navbar-nav",children:[Object(l.jsxs)(ee.a,{className:"marginPrueba",children:[Object(l.jsx)(ee.a.Link,{as:U.c,to:D.projects,children:"Projects"}),Object(l.jsx)(te.a,{title:"Admin",children:Object(l.jsx)(te.a.Item,{as:U.c,to:D.admin.users,children:"Usuarios"})})]}),Object(l.jsxs)(ee.a,{children:[Object(l.jsx)(ee.a.Link,{as:U.c,to:D.login,children:"Iniciar Sesi\xf3n"}),Object(l.jsx)(ee.a.Link,{as:U.c,to:D.register,children:"Registrarse"}),Object(l.jsx)(ee.a.Link,{as:U.c,to:D.account,children:"Mi Cuenta"}),Object(l.jsx)(ee.a.Link,{to:D.account,onClick:e,children:"Cerrar Sesi\xf3n"})]})]})]})},ae=function(e){var t=e.children;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(ce,{}),t]})};var re=function(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(U.a,{basename:"/mern-todohandler",children:Object(l.jsx)(b,{children:Object(l.jsx)(ae,{children:Object(l.jsx)(Y,{})})})}),Object(l.jsx)(I.a,{})]})};c(240);n.a.render(Object(l.jsx)(re,{}),document.getElementById("root"))}},[[241,1,2]]]);
//# sourceMappingURL=main.de8137f7.chunk.js.map